<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PsySymbol ‚Äî Instant Meanings for Dreams, Symbols & Numbers</title>
  <meta name="description" content="Type a dream, symbol, or number. Click Interpret. Get an instant meaning ‚Äî all on a single page, no backend.">
  <link rel="canonical" href="/" />
  <meta name="robots" content="index,follow" />
  <meta property="og:title" content="PsySymbol ‚Äî Dream, Symbol & Number Meanings" />
  <meta property="og:description" content="Type a dream, symbol, or number. Click Interpret. Get an instant meaning ‚Äî single-page, no backend." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/" />
  <meta property="og:image" content="" />
  <style>
    :root{--bg:#0b0c10;--card:#12131a;--card-2:#171824;--text:#f5f7fb;--muted:#b9bfd3;--acc:#7c9cff;--acc-2:#6ee7b7;--border:#26283a}
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Inter,Ubuntu,Cantarell;background:radial-gradient(1200px 600px at 80% -10%,#1a1c2e55,transparent),radial-gradient(900px 500px at -10% 20%,#15303f55,transparent),var(--bg);color:var(--text);-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}
    a{color:var(--acc)}
    .wrap{max-width:980px;margin:0 auto;padding:28px}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:22px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:36px;height:36px;border-radius:12px;background:linear-gradient(135deg,var(--acc),var(--acc-2));display:grid;place-items:center;box-shadow:0 6px 24px #0007;cursor:pointer}
    .logo:focus-visible{outline:2px solid var(--acc);outline-offset:2px}
    .logo span{font-weight:800;color:#0b0c10}
    .title{display:flex;flex-direction:column}
    .title h1{font-size:1.15rem;margin:0;letter-spacing:.2px}
    .title p{margin:2px 0 0;font-size:.86rem;color:#b9bfd3}
    .card{background:linear-gradient(180deg,#151626,#0f1020);border:1px solid var(--border);border-radius:16px;box-shadow:0 8px 40px #0005}
    .pad{padding:18px}
    .mode-switch{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
    .seg{position:relative}
    .seg input{position:absolute;opacity:0;pointer-events:none}
    .seg label{display:inline-flex;align-items:center;gap:8px;padding:10px 12px;border:1px solid var(--border);border-radius:12px;background:var(--card-2);color:#b9bfd3;cursor:pointer;user-select:none;transition:transform .08s ease,color .2s ease,background .2s ease,border-color .2s ease}
    .seg input:checked+label{background:linear-gradient(180deg,#1a1d32,#15172a);color:var(--text);border-color:#2c2f46;box-shadow:inset 0 0 0 1px #2f355a}
    .search{display:grid;grid-template-columns:1fr auto;gap:10px}
    .search input{width:100%;padding:14px 14px;border-radius:12px;border:1px solid var(--border);background:#0e1020;color:var(--text);font-size:1rem;outline:0}
    .search button{padding:0 16px;border:0;border-radius:12px;background:linear-gradient(135deg,var(--acc),#98b0ff);color:#0b0c10;font-weight:700;font-size:.98rem;cursor:pointer;display:inline-flex;align-items:center;gap:8px;height:48px}
    .search button:active{transform:translateY(1px)}
    .opts{display:flex;align-items:center;gap:10px;margin-top:10px;color:#b9bfd3;font-size:.9rem}
    .chips{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
    .chip{padding:6px 10px;border-radius:999px;border:1px solid var(--border);background:#101227;color:#b9bfd3;cursor:pointer}
    .result{margin-top:18px}
    .result .head{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:8px}
    .badge{font-size:.75rem;color:#dfe3ff;background:#192042;border:1px solid #2a2f56;border-radius:999px;padding:6px 10px}
    .tools{display:flex;gap:8px}
    .btn{padding:8px 10px;border-radius:10px;border:1px solid var(--border);background:#0f1124;color:#b9bfd3;cursor:pointer}
    .btn:hover{color:var(--text)}
    .prose{line-height:1.65;color:#e8eaf7}
    .prose h3{margin:12px 0 6px;font-size:1.05rem}
    .prose p{margin:8px 0}
    .muted{color:#b9bfd3}
    .grid{display:grid;grid-template-columns:1fr;gap:16px;margin-top:18px}
    @media(min-width:768px){.grid{grid-template-columns:1fr 1fr}}
    .panel{border:1px solid var(--border);border-radius:14px;background:linear-gradient(180deg,#121327,#0e1022)}
    .panel h4{margin:0 0 8px;font-size:.98rem;color:#e9ecff}
    .panel .pad{padding:14px}
    footer{margin-top:28px;color:#b9bfd3;font-size:.85rem;display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap}
    .hidden{display:none}
    .source{font-size:.85rem;color:#b9bfd3}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo" id="homeBtn" role="button" tabindex="0" title="Clear & reset" aria-label="Home ‚Äî clear and reset"><span>Œ®</span></div>
        <div class="title">
          <h1>PsySymbol</h1>
          <p>Instant meanings for dreams, symbols & numbers ‚Äî one page, no backend.</p>
        </div>
      </div>
    </header>
    <main class="card pad" role="main">
      <div class="mode-switch" role="tablist" aria-label="Interpretation type">
        <div class="seg"><input type="radio" id="dream" name="mode" value="dream" checked><label for="dream">üí§ Dream</label></div>
        <div class="seg"><input type="radio" id="symbol" name="mode" value="symbol"><label for="symbol">üîÆ Symbol</label></div>
        <div class="seg"><input type="radio" id="number" name="mode" value="number"><label for="number">üî¢ Number</label></div>
      </div>
      <form id="form" class="search" autocomplete="off">
        <input id="q" placeholder="Type your dream, symbol, or number‚Ä¶"><button type="submit">Interpret</button>
      </form>
      <div class="opts"><label><input type="checkbox" id="webToggle" checked> Enrich with web sources (beta)</label><span id="netStatus" class="muted"></span></div>
      <div class="chips" id="suggest"></div>
      <section id="result" class="result hidden">
        <div class="head"><span id="badge" class="badge">Meaning</span><div class="tools"><button class="btn" id="copyBtn">Copy</button><button class="btn" id="linkBtn">Share link</button></div></div>
        <div id="out" class="prose"></div>
        <div id="webOut" class="prose hidden"></div>
      </section>
      <div class="grid">
        <aside class="panel"><div class="pad"><h4>Recent</h4><div id="history" class="muted">No interpretations yet.</div></div></aside>
        <aside class="panel"><div class="pad"><h4>Tips</h4><ul class="muted" style="margin:0;padding-left:18px"><li>Use commas for multiple items: <em>snake, water</em>.</li><li>Numbers like <em>111</em> or <em>1010</em> are recognized.</li><li>Toggle ‚ÄúEnrich with web sources‚Äù for summaries from Wikipedia/Numbers API.</li></ul></div></aside>
      </div>
    </main>
    <footer>
      <span>¬© <span id="year"></span> PsySymbol</span>
      <span class="muted">Single-file build. No cookies.</span>
    </footer>
  </div>
  <script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // --- Data --------------------------------------------------------------
    const SYMBOL_MEANINGS = {
      snake:{themes:["transformation","life force","hidden fear"],notes:"Snakes often reflect suppressed energy or a need to shed old patterns."},
      water:{themes:["emotion","intuition","cleansing"],notes:"Water mirrors how feelings are flowing ‚Äî calm waters = ease; storms = turmoil."},
      teeth:{themes:["appearance","agency","communication"],notes:"Teeth falling can symbolize anxiety about control, image, or saying the right thing."},
      house:{themes:["self","boundaries","life areas"],notes:"Rooms map to self; basement=subconscious; attic=plans."},
      bridge:{themes:["transition","decision","connection"],notes:"Crossing a bridge = moving through change; fear of crossing = resistance."},
      cat:{themes:["independence","mystery","intuition"],notes:"Cats may nudge you toward self-trust and gentle curiosity."},
      dog:{themes:["loyalty","protection","friendship"],notes:"Dogs can signal support systems or a need to nurture simple joys."},
      flight:{themes:["freedom","perspective","ambition"],notes:"Flying dreams highlight expanding viewpoint and desire to rise above limits."},
      death:{themes:["ending","renewal","identity shift"],notes:"Symbolic death points to closures that make space for beginnings."},
      baby:{themes:["new beginnings","vulnerability","care"],notes:"A baby can represent a tender project, idea, or part of self that needs attention."}
    };

    const ANGEL_NUMBERS = {
      0:"Void & reset ‚Äî a circle of potential. Trust the pause.",1:"Initiation & focus ‚Äî take the first step and lead.",2:"Balance & partnership ‚Äî cooperate and listen.",3:"Creativity & expression ‚Äî speak and build playfully.",4:"Stability & structure ‚Äî plan, simplify, and commit.",5:"Change & movement ‚Äî adapt and say yes to growth.",6:"Care & responsibility ‚Äî tend to home and heart.",7:"Insight & inner work ‚Äî reflect and study the pattern.",8:"Power & exchange ‚Äî align effort with value.",9:"Closure & service ‚Äî release and complete the cycle.",11:"Intuition heightened; portals opening to new paths.",22:"Master builder energy; anchor long-term foundations.",33:"Compassionate leadership; create with the heart.",44:"Angelic scaffolding; structure supports your leap.",55:"Rapid pivots; flexible mindset wins.",66:"Deep care; harmony in relationships.",77:"Mystic study; trust the inner map.",88:"Material momentum; stewardship of resources.",99:"Final wrap-up; graduate to the next chapter.",1010:"Mirrors and milestones; progress in twin steps.",111:"Alignment ping; stay focused on your intention.",222:"Synchronicity in pairs; patience while threads weave.",333:"Speak truth; your ideas want air.",444:"Protected & guided; build with confidence.",555:"Change is ripe; ride the wave.",666:"Re-balance priorities; grounding needed.",777:"Inner wisdom confirmed; keep learning.",888:"Abundance circuitry active; circulate generosity.",999:"Completion; make space for the new."
    };

    const SUGGESTIONS = { dream:["teeth falling","flying above city","lost in a house","meeting a baby"], symbol:["snake","water","bridge","cat"], number:["111","222","1010","777"] };

    // --- Helpers ------------------------------------------------------------
    const $ = s => document.querySelector(s);
    const $$ = s => Array.from(document.querySelectorAll(s));
    function currentMode(){ return document.querySelector('input[name="mode"]:checked')?.value || 'dream'; }
    function cap(s){ return s ? s.charAt(0).toUpperCase()+s.slice(1) : s; }
    function joinx(a){ if(a.length===1) return a[0]; if(a.length===2) return a[0]+" and "+a[1]; return a.slice(0,-1).join(", ")+", and "+a.at(-1); }
    function toks(t){ return String(t).toLowerCase().split(/[,;\n]+|\s{2,}/).map(s=>s.trim()).filter(Boolean); }
    function reduceNum(n){ const s=String(n).replace(/\D/g,""); if(!s) return null; if(ANGEL_NUMBERS[s]) return s; let x=s.split("").reduce((a,b)=>a+Number(b),0); if([11,22,33].includes(x)) return String(x); while(x>9){ x=String(x).split("").reduce((a,b)=>a+Number(b),0) } return String(x); }

    // --- Engines ------------------------------------------------------------
    function interpretSymbol(term){ const k=String(term).toLowerCase(); const s=SYMBOL_MEANINGS[k]; return (s? `<h3>Symbol: ${cap(k)}</h3><p><strong>Themes:</strong> ${joinx(s.themes.map(cap))}.</p><p>${s.notes}</p>`:`<h3>Symbol: ${cap(k)}</h3><p>This symbol highlights something about <em>${k}</em> you‚Äôre noticing ‚Äî a quality, risk, or desire to integrate.</p>`) + genericAdvice(k); }

    function interpretDream(text){ const parts=toks(text); if(parts.length===0) return `<p class="muted">Try a short phrase, e.g., <em>teeth falling</em>.</p>`; const bullets=parts.map(p=>{ const s=SYMBOL_MEANINGS[p]; return s? `<li><strong>${cap(p)}</strong>: ${joinx(s.themes.map(cap))}. ${s.notes}</li>`:`<li><strong>${cap(p)}</strong>: an aspect of <em>${p}</em> asking for attention or balance.</li>` }).join(""); return `<h3>Dream focus</h3><p>Your dream clusters around ${joinx(parts.map(cap))}.</p><ul>${bullets}</ul>` + genericAdvice(parts); }

    function interpretNumber(text){ const raw=String(text).trim(); const digits=raw.replace(/\D/g,""); if(!digits) return `<p class="muted">Enter a number like <em>111</em> or <em>1010</em>.</p>`; const known=ANGEL_NUMBERS[digits]; const reduced=reduceNum(digits); const reducedMsg=ANGEL_NUMBERS[reduced]; let html=`<h3>Number: ${digits}</h3>`; if(known) html+=`<p>${known}</p>`; if(reduced && reduced!==digits){ html+=`<p><strong>Numerology core (${reduced})</strong>: ${reducedMsg || ('Essence distilled to '+reduced)}.</p>` } return html + genericAdvice(digits); }

    function genericAdvice(k){ const x=Array.isArray(k)?k[0]:k; return `<h3>How to work with it</h3><p>Notice where <em>${x}</em> shows up this week. Journal a few lines, take one small action, and revisit in 3‚Äì7 days.</p><p class="muted">Symbolic heuristic ‚Äî take what resonates, leave the rest.</p>` }

    // --- UI wiring ----------------------------------------------------------
    const form = $('#form'), input = $('#q'), out = $('#out'), result = $('#result'), badge = $('#badge'), suggest = $('#suggest'), copyBtn = $('#copyBtn'), linkBtn = $('#linkBtn'), historyEl = $('#history'), webOut = $('#webOut'), webToggle = $('#webToggle'), netStatus = $('#netStatus');
    function setBadge(){ if(!badge) return; badge.textContent = ({dream:'Dream meaning',symbol:'Symbol meaning',number:'Number meaning'})[currentMode()]; }
    function renderSuggestions(){ if(!suggest) return; suggest.innerHTML=''; (SUGGESTIONS[currentMode()]||[]).forEach(x=>{ const b=document.createElement('button'); b.className='chip'; b.type='button'; b.textContent=x; b.addEventListener('click',()=>{ input.value=x; form.dispatchEvent(new Event('submit',{cancelable:true}))}); suggest.appendChild(b); }); }
    function saveHistory(entry){ try{ const key='psysymbol.history.v1'; const arr=JSON.parse(localStorage.getItem(key)||'[]'); arr.unshift(entry); localStorage.setItem(key, JSON.stringify(arr.slice(0,12))); }catch(e){} }
    function loadHistory(){ try{ const arr=JSON.parse(localStorage.getItem('psysymbol.history.v1')||'[]'); if(arr.length===0){ historyEl.textContent='No interpretations yet.'; return; } historyEl.innerHTML = arr.map(i=>`<div style="margin:6px 0"><a href="#/${encodeURIComponent(i.mode)}/${encodeURIComponent(i.q)}">${i.mode} ‚Äî ${i.q.replaceAll('<','&lt;').replaceAll('>','&gt;')}</a></div>`).join(''); }catch(e){ historyEl.textContent='‚Äî'; } }

    function interpret(mode, query){ let html=''; if(mode==='dream') html=interpretDream(query); else if(mode==='symbol') html=interpretSymbol(query); else html=interpretNumber(query); out.innerHTML=html; result.classList.remove('hidden'); setBadge(); saveHistory({mode,q:query}); loadHistory(); if(webToggle?.checked){ enrichFromWeb(mode, query); } else { webOut.classList.add('hidden'); webOut.innerHTML=''; } }
    function handleHash(){ const m = location.hash.match(/^#\/(dream|symbol|number)\/([^]*)$/); if(m){ const mode=m[1]; const q=decodeURIComponent(m[2]); const radio=document.querySelector(`input[name="mode"][value="${mode}"]`); if(radio) radio.checked=true; input.value=q; renderSuggestions(); interpret(mode,q);} else { result.classList.add('hidden'); renderSuggestions(); } }

    // Fetchers (client-side, CORS only)
    async function fetchWiki(term){
      try{ const r=await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(term)}`); if(!r.ok) return null; const j=await r.json(); if(j?.extract){ return {title:j.title, extract:j.extract, url:j.content_urls?.desktop?.page}; } return null; } catch(e){ return null; }
    }
    async function fetchNumbersInfo(n){
      const base=`https://numbersapi.com/${encodeURIComponent(n)}`;
      try{
        const [triviaRes, mathRes] = await Promise.all([
          fetch(`${base}/trivia?json`),
          fetch(`${base}/math?json`)
        ]);
        const trivia = triviaRes.ok ? await triviaRes.json() : null;
        const math = mathRes.ok ? await mathRes.json() : null;
        return { trivia: trivia?.text || null, math: math?.text || null };
      }catch(e){ return {trivia:null, math:null}; }
    }

    async function enrichFromWeb(mode, query){
      webOut.classList.remove('hidden');
      webOut.innerHTML = `<p class="muted">Fetching web sources‚Ä¶</p>`;
      netStatus.textContent = '';
      if(mode==='number'){
        const digits = String(query).replace(/\D/g,'');
        const info = await fetchNumbersInfo(digits);
        let html = `<h3>From the web</h3>`;
        if(info.trivia) html += `<p class="source"><strong>Numbers API ‚Äî trivia:</strong> ${info.trivia}</p>`;
        if(info.math) html += `<p class="source"><strong>Numbers API ‚Äî math:</strong> ${info.math}</p>`;
        if(!info.trivia && !info.math) html += `<p class="muted">No extra info found.</p>`;
        webOut.innerHTML = html;
        return;
      }
      // dream/symbol: try first token
      const first = toks(query)[0] || String(query).trim();
      const w = await fetchWiki(first);
      if(w){
        webOut.innerHTML = `<h3>From the web</h3><p class="source"><strong>Wikipedia (${w.title}):</strong> ${w.extract} <a href="${w.url}" target="_blank" rel="noopener">Read more</a></p>`;
      } else {
        webOut.innerHTML = `<h3>From the web</h3><p class="muted">No summary found for ‚Äú${cap(first)}‚Äù.</p>`;
      }
    }

    if(form){ form.addEventListener('submit', e=>{ e.preventDefault(); const q=input.value.trim(); if(!q) return; const mode=currentMode(); location.hash = `#/${mode}/${encodeURIComponent(q)}`; interpret(mode,q); }); }
    $$('input[name="mode"]').forEach(r=> r.addEventListener('change',()=>{ setBadge(); renderSuggestions(); input?.focus(); }));
    if($('#copyBtn')){ copyBtn.addEventListener('click', ()=>{ const txt=out.innerText; navigator.clipboard?.writeText(txt).then(()=>{ copyBtn.textContent='Copied!'; setTimeout(()=>copyBtn.textContent='Copy',1000); }); }); }
    if($('#linkBtn')){ linkBtn.addEventListener('click', ()=>{ const url=location.href; navigator.clipboard?.writeText(url).then(()=>{ linkBtn.textContent='Link copied!'; setTimeout(()=>linkBtn.textContent='Share link',1000); }); }); }

    // Logo reset
    const homeBtn = document.getElementById('homeBtn');
    function resetToEmpty(){ if(input) input.value=''; if(out) out.innerHTML=''; if(result) result.classList.add('hidden'); if(webOut){ webOut.innerHTML=''; webOut.classList.add('hidden'); } const dream=$('#dream'), symbol=$('#symbol'), number=$('#number'); if(dream) dream.checked=true; if(symbol) symbol.checked=false; if(number) number.checked=false; if(location.hash) history.pushState('', document.title, location.pathname + location.search); setBadge(); renderSuggestions(); input?.focus(); window.scrollTo({top:0, behavior:'smooth'}); }
    if(homeBtn){
      homeBtn.addEventListener('click', resetToEmpty);
      homeBtn.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' '){ e.preventDefault(); resetToEmpty(); } });
    }

    // Init
    document.getElementById('year').textContent = new Date().getFullYear();
    setBadge(); renderSuggestions(); loadHistory(); handleHash();
  </script>
</body>
</html>
